#summary PTF Custom Sensors XML: Overview of PTF Custom XML Sensors.
#sidebar PTF_Sidebar

http://ptf-prtgaddons.googlecode.com/files/PTF_logo.png  http://ptf-prtgaddons.googlecode.com/files/Advanced_Sensor.png

On this page you will find an overview of *Advanced XML* sensors. 

The *Standard* sensors can be found [http://code.google.com/p/prtg-addons/wiki/PTF_Custom_Sensors here.]

====Latest versions:====
|| *Sensor* || *Description* || *Version* || *Date* || *PRTG* `*` || *Download* ||
||[#IISStatisticsXML IISStatisticsXML]||Monitors various IIS statistics.||8.0.3.1||21/07/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.IISStatisticsXML.zip here]||
||[#ProcessResourceXML ProcessResourceXML]||Monitors resources used by a process.||8.0.2.1||18/07/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.ProcessResourceXML.zip here]||
||[#SensorAverageXML SensorAverageXML]||Returns the xx hour average of every channel for a given sensor.||8.0.2.1||18/07/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.SensorAverageXML.zip here]||
||[#SQLspXML SQLspXML]||Parses the multi channel results of a MS SQL query to PRTG.||8.0.1.1||02/02/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.SQLspXML.zip here]||
||[#StatisticalPingXML StatisticalPingXML]||Pings a comma separated list of hosts for statistical reasons.||8.0.1.1||19/05/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.StatisticalPingXML.zip here]||
||[#StockValueXML StockValueXML]||Monitors stock values as reported by http://finance.yahoo.com.||8.0.2.1||18/07/2011||8.2||[http://prtg-addons.googlecode.com/files/PTF.StockValueXML.zip here]||



`*` This is the minimum PRTG version that is required for this sensor

== General ==
All Custom Sensors listed target the _.Net Framework 2.0_. (unless stated otherwise)

Copy the .exe file to the "\Custom Sensors\EXEXML" folder of your PRTG Network Monitor installation. You can manually launch the .exe for an explanation of the parameters required

Note: XML sensors can only be used as of PRTG version 8.2


----

== IISStatisticsXML ==
=== Summary ===
This sensor monitors various IIS statistics.

{{{
[-c=computer] [-u=username] [-p=password|passhash]
}}}

{{{
-c=  Optional, the name or IP of the computer running IIS. If ommitted the sensors host is used.
-u=  Optional, Domain\Username of a user account hat has access to the computer running IIS.
-p=  Optional, Password or PassHash of a user account that has access to the computer running IIS.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.3.1 _21/07/2011_====
 * Changed: Improved user impersonation for workgroup users.
====8.0.2.1 _19/07/2011_====
 * New: added parameters -u= and -p= to provide credentials for accessing the computer running IIS
====8.0.1.1 _19/05/2011_====
 * First public version

----

== ProcessResourceXML ==
=== Summary ===
This sensor monitors resources used by a process.

{{{
-s=process -c=computer [-u=username] [-p=password|passhash]
}}}

{{{
-s=   Name of the process.
-c=   Name or IP-Address of the computer running the process.
-u=   Optional, Domain\Username of a user account hat has access to the computer via WMI service.
-p=   Optional, Password or PassHash of a user account that has access to the computer via WMI service.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _17/01/2011_====
 * First public version


----


== SensorAverageXML ==
=== Summary ===
This sensor returns the xx hour average of every channel for a given sensor.

{{{
-u=username -p=password|passhash -s=sensorID [-h=hours]
 
-u=   The username of an account on your PRTG server.
-p=   The password of an account on your PRTG server.
-s=   The SensorID of the sensor to return the average values for.
-h=   Optional, number of hours to calculate the average on (default = 1).
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _21/01/2011_====
 * First public version


----

== SQLspXML ==
=== Summary ===
Parses the multi channel results of a MS SQL query to PRTG.

{{{
-d=database -sp=StoredProcedure [-s=SQLserver] [-u=username] [-p=password|passhash]

-d=    Database name on the SQL server.
-sp=   Name of the Stored Procedure to execute.
-s=    Optional, IP or DNS name of the SQL server.
       If ommitted the hostname of the parent device is used
-u=    Optional, UserName of the SQL account.
       If ommitted the credentials entered at the parent device are used.
-p=    Optional, Password or PassHash * of the SQL account.
       If ommitted the credentials entered at the parent device are used
}}} 

The Stored Procedure has to return *columns with a fixed name*:

{{{
CREATE PROCEDURE [dbo].[spSQL2XML]
	AS
BEGIN
	DECLARE @tblPRTG	TABLE
		(
		  Channel	nvarchar(50)
		, Value		nvarchar(50)
		, IsInt		bit
		, Unit		nvarchar(50)
		);
		
	INSERT INTO @tblPRTG VALUES ('Channel #1','1.00',0,'Euro')
	INSERT INTO @tblPRTG VALUES ('Channel #2','2.00',0,'Dollar')
	
	SELECT * FROM @tblPRTG
END
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.1.1 _02/02/2011_====
 * First public version.

----

== StatisticalPingXML ==
=== Summary ===
This sensor pings a comma separated list of hosts for statistical reasons.

{{{
-h=ip-address|hostname [-w=timeout] [-l=size] [-i=TTL]
}}}

{{{
-h=   A comma separated list of hosts to check.
-w=   Optional, timeout in milliseconds to wait for a reply, default = 500.
-l=   Optional, send buffer size, default = 32.
-i=   Optional, Time To Live, default = 64.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.1.1 _19/05/2011_====
 * First public version


----

== StockValueXML ==
=== Summary ===
Monitores stock values as reported by http://finance.yahoo.com

{{{
-s= Comma seperated list of symbols, to be obtained from http://finance.yahoo.com
}}} 
I.e. -s="MSFT,AAPL,INTC" to monitor Microsoft, Apple and Intel

 back to [#Latest_versions: top]

=== Version history ===
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _17/01/2011_====
 * First public version.

----