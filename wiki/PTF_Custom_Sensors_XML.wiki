#summary Overview of PTF XML Custom Sensors.
#sidebar PTF_Sidebar

http://ptf-prtgaddons.googlecode.com/files/PTF_logo.png  http://ptf-prtgaddons.googlecode.com/files/Advanced_Sensor.png [https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=Q3245R67RWV6U http://ptf-prtgaddons.googlecode.com/files/donate2.png]

====Latest versions:====
|| *Sensor* || *Description* || *Version* || *Date* || *Download* ||
||[#DBUsageXML DBUsageXML]||Returns the usage counters of a Dropbox account.||12.4.1.1||23/12/2012||[http://prtg-addons.googlecode.com/files/PTF.DBUsageXML.zip here]||
||[#GDUsageXML GDUsageXML]||Returns the usage counters of a Google Drive account.||12.4.1.1||23/12/2012||[http://prtg-addons.googlecode.com/files/PTF.GDUsageXML.zip here]||
||[#IISStatisticsXML IISStatisticsXML]||Monitors various IIS statistics.||8.0.3.1||21/07/2011||[http://prtg-addons.googlecode.com/files/PTF.IISStatisticsXML.zip here]||
||[#MediaStreamer MediaSteamer]||Monitor media streams.||8.0.9.1||05/08/2012||[http://prtg-addons.googlecode.com/files/PTF.MediaStreamer.zip here]||
||[#ProcessResourceXML ProcessResourceXML]||Monitors resources used by a process.||8.0.2.1||18/07/2011||[http://prtg-addons.googlecode.com/files/PTF.ProcessResourceXML.zip here]||
||[#SDUsageXML SDUsageXML]||Returns the usage counters of a Skydrive account.||12.4.1.1||23/12/2012||[http://prtg-addons.googlecode.com/files/PTF.SDUsageXML.zip here]||
||[#SensorAverageXML SensorAverageXML]||Returns the xx minute average of every channel for a given sensor.||8.0.4.1||01/04/2012||[http://prtg-addons.googlecode.com/files/PTF.SensorAverageXML.zip here]||
||[#SensorCountXML SensorCountXML]||Returns the number of sensors per state.||13.1.1.1||03/03/2013||[http://prtg-addons.googlecode.com/files/PTF.SensorCountXML.zip here]||
||[#SQLspXML SQLspXML]||Parses the multi channel results of a MS SQL query to PRTG.||13.1.1.3||10/02/2013||[http://prtg-addons.googlecode.com/files/PTF.SQLspXML.zip here]||
||[#StatisticalPingXML StatisticalPingXML]||Pings a comma separated list of hosts for statistical reasons.||8.0.1.1||19/05/2011||[http://prtg-addons.googlecode.com/files/PTF.StatisticalPingXML.zip here]||
||[#StockValueXML StockValueXML]||Monitors stock values as reported by http://finance.yahoo.com.||8.0.2.1||18/07/2011||[http://prtg-addons.googlecode.com/files/PTF.StockValueXML.zip here]||


== General ==
All Custom Sensors listed target the _.Net Framework 2.0_. (unless stated otherwise)

Copy the .exe file to the "\Custom Sensors\EXEXML" folder of your PRTG Network Monitor installation. You can manually launch the .exe for an explanation of the parameters required

Note: XML sensors can only be used as of PRTG version 8.2


----

==DBUsageXML==
This sensor returns the usage counters of a Dropbox account. More [http://code.google.com/p/prtg-addons/wiki/PTF_Tools_SDBToken details]

{{{
-t=token
}}}

{{{
-t=   The Dropbox access token to be used.
}}}

 back to [#Latest_versions: top]

====12.4.1.1 _23/12/2012_====
 * First public version

----

==GDUsageXML==
This sensor returns the usage counters of a Google Drive account. More [http://code.google.com/p/prtg-addons/wiki/PTF_Tools_SDBToken details]

{{{
-t=token -id=SensorID
}}}

{{{
-t=   The Google Drive access token to be used.
-id=  The SensorID.
}}}

 back to [#Latest_versions: top]

====12.4.1.1 _23/12/2012_====
 * First public version

----

== IISStatisticsXML ==
=== Summary ===
This sensor monitors various IIS statistics.

{{{
[-c=computer] [-u=username] [-p=password|passhash]
}}}

{{{
-c=  Optional, the name or IP of the computer running IIS. If ommitted the sensors host is used.
-u=  Optional, Domain\Username of a user account hat has access to the computer running IIS.
-p=  Optional, Password or PassHash of a user account that has access to the computer running IIS.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.3.1 _21/07/2011_====
 * Changed: Improved user impersonation for workgroup users.
====8.0.2.1 _19/07/2011_====
 * New: added parameters -u= and -p= to provide credentials for accessing the computer running IIS
====8.0.1.1 _19/05/2011_====
 * First public version

----


== !MediaStreamer ==
=== Summary ===
This Custom Sensor returns a monitored value of a mediastream.

The download consists in two .exe files. *!MediaStreamer x.x.x setup .exe* is the installer for an application that constantly monitors your streams and *MediaStreamXML.exe* is the Custom Sensor that queries 
the !MediaStreamer and reports the result to your PRTG Server.

More [http://code.google.com/p/prtg-addons/wiki/PTF_CS_MediaStreamer details]

=== Prerequisites ===
*!MediaStreamer*
 * .NET Framework 3.5
 * Microsoft Media Player
 * Adobe Flash Player
 * VLC Player

*!MediaStream*
 * .NET Framework 2.0

For the Custom Sensor enter the ip or dns name of the computer running PTF.!MediaStreamer, the name of the player and optional credentials (username and password) to access the c$ of the computer running PTF.!MediaStreamer:
{{{
-c=computer -n=playername [-u=username] [-p=password|passhash]

-c=    IP-Address or DNS name of the computer running PTF.MediaStreamer.
-n=    The name of the player to query.
-u=    Optional, Domain\Username of a user that can access the c-drive (c$) of the computer running PTF.MediaStreamer.
-p=    Optional, Password or passhash of a user that can access the c-drive (c$) of the computer running PTF.MediaStreamer.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.9.1 _05/08/2012_====
* Updated documentation

====8.0.8.1 _15/03/2012_====
 * New: Support for VLC 2.0
 * New: Added JWPlayer (no statistics).
 * New: Option to close an active player.

====8.0.5.1 _10/03/2012_====
 * Changed: If a stream encounters an error, it is checked again within one minute before reporting the error.
 * New: VLCPlayer now supports RTMP streams.
 * New: Option to pause the MediaStreamer.
 * Bugfix: Various small bug fixes.

====8.0.1.1 _17/02/2012_====
 * Changed: Completely rewritten user interface.
 * Changed: XML version of the sensor

----

== ProcessResourceXML ==
=== Summary ===
This sensor monitors resources used by a process.

{{{
-s=process -c=computer [-u=username] [-p=password|passhash]
}}}

{{{
-s=   Name of the process.
-c=   Name or IP-Address of the computer running the process.
-u=   Optional, Domain\Username of a user account hat has access to the computer via WMI service.
-p=   Optional, Password or PassHash of a user account that has access to the computer via WMI service.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _17/01/2011_====
 * First public version

----

==SDUsageXML==
This sensor returns the usage counters of a Skydrive account. More [http://code.google.com/p/prtg-addons/wiki/PTF_Tools_SDBToken details]

{{{
-t=token -id=SensorID
}}}

{{{
-t=   The Skydrive access token to be used.
-id=  The SensorID.
}}}

 back to [#Latest_versions: top]

====12.4.1.1 _23/12/2012_====
 * First public version

----

== SensorAverageXML ==
=== Summary ===
This sensor returns the xx minute average of every channel for a given sensor.

{{{
-pu=username -pp=password|passhash -ps=server -s=sensorID [-h=hours]
 
-pu=   The username of an account on your PRTG server.
-pp=   The password of an account on your PRTG server.
-ps=   The URL to your PRTG server
-s=    The SensorID of the sensor to return the average values for.
-m=    Optional, number of minutes to calculate the average on (default = 60).
-ssl3  Optional switch to force a ssl3 connection.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.4.1 _01/04/2012_====
 * Changed: Environment variables no longer need to be set.
 * Changed: Various parameters have been changed/renamed.
 * New: added switch -ssl3 to force a ssl3 connection to your PRTG server.
====8.0.3.1 _28/12/2011_====
 * Changed: Added the -m parameter. The -h parameter is depricated.
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _21/01/2011_====
 * First public version


----

== SensorCountXML ==
=== Summary ===
Returns the number of sensors per state.

{{{
-s=ip-address|hostname] -u=username -p=password|passhash [-r=rootID]
 
-s=    The IP and optional portnumber of your PRTG Server.
-u=    Username.
-p=    Password or PassHash *.
-r=    Optional, the rootID of the probe or group you want to count from (default = 0).
}}}

=== Version history ===
====13.1.1.1 _03/03/2013_====
 * First public version

----

== SQLspXML ==
=== Summary ===
Parses the multi channel results of a MS SQL query to PRTG.

{{{
-d=database -sp=StoredProcedure -s=SQLserver -u=username -p=password|passhash [-sa]

-d=    Database name on the SQL server.
-sp=   Name of the Stored Procedure to execute.
-s=    Optional, IP or DNS name of the SQL server.
       If ommitted the hostname of the parent device is used
-u=    UserName to connect to your SQL server.
-p=    Password or PassHash * to connect to your SQL server.
-sa    Optional switch to use SQL Authentication.      
}}} 

The Stored Procedure has to return *columns with a fixed name*:

{{{
CREATE PROCEDURE [dbo].[spSQL2XML]
	AS
BEGIN
	DECLARE @tblPRTG	TABLE
		(
		  Channel	nvarchar(50)
		, Value		nvarchar(50)
		, IsInt		bit
		, Unit		nvarchar(50)
		);
		
	INSERT INTO @tblPRTG VALUES ('Channel #1','1.00',0,'Euro')
	INSERT INTO @tblPRTG VALUES ('Channel #2','2.00',0,'Dollar')
	
	SELECT * FROM @tblPRTG
END
}}}

See also [http://kb.paessler.com/knowledgebase/en/topic/44713-why-does-my-wmi-microsoft-sql-server-2005-sensor-not-work-anymore#reply-140383 this] KB article.

 back to [#Latest_versions: top]

=== Version history ===
====13.1.1.3 _10/02/2013_====
 * Removed the default 30sec SQL connection timeout.
====12.4.1.1 _11/12/2012_====
 * Updated documentation
====8.0.2.1 _02/10/2011_====
 * Changed: dropped the "environment placeholders" support, all parameters need to be supplied through the command line now.
 * New: option to use SQL authentication. (by default Windows Authentication is used now)
====8.0.1.1 _02/02/2011_====
 * First public version.

----

== StatisticalPingXML ==
=== Summary ===
This sensor pings a comma separated list of hosts for statistical reasons.

{{{
-h=ip-address|hostname [-w=timeout] [-l=size] [-i=TTL]
}}}

{{{
-h=   A comma separated list of hosts to check.
-w=   Optional, timeout in milliseconds to wait for a reply, default = 500.
-l=   Optional, send buffer size, default = 32.
-i=   Optional, Time To Live, default = 64.
}}}

 back to [#Latest_versions: top]

=== Version history ===
====8.0.1.1 _19/05/2011_====
 * First public version


----

== StockValueXML ==
=== Summary ===
Monitores stock values as reported by http://finance.yahoo.com

{{{
-s= Comma seperated list of symbols, to be obtained from http://finance.yahoo.com
}}} 
I.e. -s="MSFT,AAPL,INTC" to monitor Microsoft, Apple and Intel

 back to [#Latest_versions: top]

=== Version history ===
====8.0.2.1 _18/07/2011_====
 * Recompiled with new error handling routines
====8.0.1.1 _17/01/2011_====
 * First public version.

----